<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN">
<html>
<head>
<title>Porting aria_quickstart_mzef_cu_wqvga to legato</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoadEx('frames.html', 'topic', '03088.html');" onmousedown="onBodyMouseDown();">

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="00410.html" target="topic">MPLAB速 Harmony Graphics Suite</a> &gt; <a href="03039.html" target="topic">Advanced Topics</a> &gt; <a href="03087.html" target="topic">Porting Aria Applications to Legato</a> &gt; <a href="03088.html" target="topic">Porting aria_quickstart_mzef_cu_wqvga to legato</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB速 Harmony Graphics Suite</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.html" target="tocidx">Contents</a> | <a href="00410.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="03087.html" target="topic">Previous</a> | <a href="03087.html" target="topic">Up</a> | <a href="03065.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: Porting aria_quickstart_mzef_cu_wqvga to legato Topic Title: Porting aria_quickstart_mzef_cu_wqvga to legato)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table><div class="Element5">
Porting aria_quickstart_mzef_cu_wqvga to legato</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<a name="PageContent"></a><div class="Element58">
<a name="4465736372697074696F6E"></a><div class="Element11">
<div class="Element10">
<p class="Element10">
 &nbsp;</p>
<p class="Element10">
The following step-by-step instructions take you through the changes required to port the aria_quickstart &quot;aria_quickstart_mzef_cu_wqvga&quot; application to Legato:&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
1. Open the Aria Quickstart project using MPLABX.&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
2. Set a Main Project&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<ul class="Element630">
<li class="Element600">Right click on a project's top node and select Set as Main Project from the popup menu.</li>
</ul><p class="Element10">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
<img src="set_main_project.png" border="0" alt="" title=""></p><p class="Element10">
&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
3. Launch MPLAB Harmony Configurator (MHC)&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<ul class="Element630">
<li class="Element600">Select Tools &gt; Embedded to verify that MHC and the content manager are displayed in the list.</li>
</ul><p class="Element10">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
<img src="launch_mhc3.png" border="0" alt="" title=""></p><p class="Element10">
&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
4. Remove components from the Project Graph&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<ul class="Element630">
<li class="Element600">Select each component and select &quot;X&quot;</li>
</ul><p class="Element10">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
<img src="legato_port_project.png" border="0" alt="" title=""></p><p class="Element10">
&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
5. Add Legato graphics library&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
Under the <strong>Available Components</strong> tab, expand <strong>Graphics</strong> &gt; <strong>Middleware</strong>.&nbsp;</p>
<p class="Element10">
Select and double click on <strong>Legato</strong> to add the Legato graphics library to the project.&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
6. Add LE Display Driver&nbsp;</p>
<p class="Element10">
On the <strong>Legato</strong> <strong>Component</strong>, connect, <strong>LE Display Driver</strong> to <strong>LE LCC Display Driver</strong>.&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
Confirm Component Auto-Activation. When prompted with the message &quot;Are you sure you want to activate these components?&quot; <strong> GFX Core LE (gfx_hal_le), </strong>select<strong> Yes.</strong>&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
7. Add PDA 4.3&quot; Graphics Display&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
On the<strong> LE LCC component</strong>, connect <strong>Graphics Display</strong> to <strong>PDA TM4301B.</strong>&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
8. Add LE Display Driver&nbsp;</p>
<p class="Element10">
On the <strong>LE LCC</strong> <strong>component</strong>, connect <strong>EBI_CS</strong> to <strong>EBI Peripheral Library</strong>.&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
9. Import existing GUI design&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<ul class="Element630">
<li class="Element600"> Launch Legato Graphics Composer</li>
</ul><p class="Element10">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
<img src="legato_launch_lgc.png" border="0" alt="" title=""></p>
<ul class="Element630">
<li class="Element600">When prompted to &quot;Create a new project&quot; or &quot;load an existing&quot;, select <strong>Close.</strong></li>
<li class="Element600">Using<strong> Legato composer , </strong>select<strong> File -&gt; Import.</strong></li>
<li class="Element600">Navigate to the<strong> src/config</strong> folder and then select<strong> harmony.prj.</strong></li>
</ul><p class="Element10">
&nbsp;</p>
<p class="Element10">
10. Generate Code&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<ul class="Element630">
<li class="Element600">When done, before generating code, click Save MHC State as shown below.</li>
</ul><p class="Element10">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
<img src="legato_port_save_state.png" border="0" alt="" title=""></p>
<ul class="Element630">
<li class="Element600">Click on the Code Generate button as shown below to start generating code.</li>
</ul><p class="Element10">
&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
<img src="legato_port_gen_code.png" border="0" alt="" title=""></p><p class="Element10">
&nbsp;</p>
<p class="Element10">
11. Examine the generated code for Legato as shown below.</p>
<ul class="Element630">
<li class="Element600">You will note that Aria, Library, Aria HAL abstration, LCC Driver has been replaced with Legato Library and gfx_driver driver interface.</li>
</ul><p class="Element10">
&nbsp;</p>
<p class="Element10">
12. Navigate to the Projects tab to view the project tree structure&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
13. Build the code by clicking on the Clean and Build icon <img src="legato_port_build_icon.png" border="0" alt="" title=""> and verify that the project builds successfully.&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
At this point, you are ready to start implementing your application code.&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
14. Build, program, and observe graphics user interface</p>
<ul class="Element630">
<li class="Element600">The Curiosity PIC32MZ EF 2.0 Development Board allows the Embedded Debugger (EDBG) to be used for debugging. Connect the Type-A male to micro-B USB cable to the micro-B DEBUG USB port to power and debug the Curiosity PIC32MZ EF 2.0 Development Board.</li>
<li class="Element600">Go to <strong>File</strong> &gt; <strong>Project Properties</strong> and make sure that the Curiosity MPLAB (PKoB 4) is selected as the debugger under the Hardware Tools and XC32 (v2.30) or greator is selected as the Compiler Toolchain for XC32.</li>
</ul><p class="Element10">
&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
<img src="legato_port_project_properties.png" border="0" alt="" title=""></p>
<ul class="Element630">
<li class="Element600">Clean and build your application by clicking on the Clean and Build button as shown below.</li>
</ul><p class="Element10">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
<img src="legato_port_clean_build.png" border="0" alt="" title=""></p>
<ul class="Element630">
<li class="Element600">Program your application to the device by clicking on the Make and Program button as shown below.</li>
</ul><p class="Element10">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
<img src="legato_port_make_program.png" border="0" alt="" title=""></p><p class="Element10">
&nbsp;</p>
<p class="Element10">
The application should build and program successfully.&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
15. Verify GUI design on display and button press&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<ul class="Element630">
<li class="Element600">Press the switch Button on the display to</li>
</ul></div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="00410.html" target="topic">MPLAB速 Harmony Graphics Suite</a> &gt; <a href="03039.html" target="topic">Advanced Topics</a> &gt; <a href="03087.html" target="topic">Porting Aria Applications to Legato</a> &gt; <a href="03088.html" target="topic">Porting aria_quickstart_mzef_cu_wqvga to legato</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element3">
MPLAB速 Harmony Graphics Suite</div>
</td><td width="25%">
<div class="Element4">
<a href="contents.html" target="tocidx">Contents</a> | <a href="00410.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element91">
<a href="03087.html" target="topic">Previous</a> | <a href="03087.html" target="topic">Up</a> | <a href="03065.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: Porting aria_quickstart_mzef_cu_wqvga to legato Topic Title: Porting aria_quickstart_mzef_cu_wqvga to legato)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>