<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN">
<html>
<head>
<title>aria_iv_mzda_sk_meb2_tm4301b.X</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoadEx('frames.html', 'topic', '00064.html');" onmousedown="onBodyMouseDown();">

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="00462.html" target="topic">MPLAB® Harmony Graphics Suite</a> &gt; <a href="00728.html" target="topic">Examples and Demonstrations</a> &gt; <a href="00727.html" target="topic">Aria Applications</a> &gt; <a href="00013.html" target="topic">aria_image_viewer</a> &gt; <a href="00064.html" target="topic">aria_iv_mzda_sk_meb2_tm4301b.X</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB® Harmony Graphics Suite</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.html" target="tocidx">Contents</a> | <a href="00462.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="00016.html" target="topic">Previous</a> | <a href="00013.html" target="topic">Up</a> | <a href="00012.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: aria_iv_mzda_sk_meb2_tm4301b.X Topic Title: aria_iv_mzda_sk_meb2_tm4301b.X)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table><div class="Element5">
aria_iv_mzda_sk_meb2_tm4301b.X</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<a name="PageContent"></a><div class="Element58">
<a name="4465736372697074696F6E"></a><div class="Element11">
<div class="Element10">
<div class="Element15">
Defining the Architecture</div>
<p class="Element10" style="text-align: center;">
<img src="APPS GFX aria_image_viewer pic32mz_da_sk_extddr_meb2, Single Layer, Double Buffer, with GPU.png" border="0" alt="" title=""></p><p class="Element10">
The aria_image_viewer application uses the MPLAB Harmony Graphics Library to render graphics to the display. It uses the 2-D GPU and the GLCD internal hardware peripherals. The Graphics Suite’s Graphics Composer Tool is used to establish the UI design. All images are staged to the external DDR during initialization.&nbsp;</p>
<p class="Element10">
The first layer (0) is the image destination layer. At initialization, the Graphics Library decodes and stages four full 2716x1810 high-res images to the external DDR. The staged images are used as a source for subsequent user control requests, such as shrink, stretch, and pan. A version of the image is displayed to the destination layer 0 based on the user control request.&nbsp;</p>
<p class="Element10">
The second layer (1) is the UI layer. The Graphics Composer Tool is used to establish all user controls. An Orientation Button Widget is used to set image orientation at 0, 90, 180, and 270. The UI layer also contains non-visible touch areas for multi-touch gestures. User supported gestures are swipe to next image, two-finger pinch-zoom, and single finger pan. Lastly, the UI layer contains a touch area to display a help guide.&nbsp;</p>
<p class="Element10">
The third layer (2) is the help layer. The Graphics Composter Tool is used to establish helpful UI Text Labels. This layer maintains an alpha-channel which is set to blend over the UI and image layers. It is only available at initialization and upon user request. Its alpha value gradually transitions from opaque to fully transparent, so the panel becomes invisible after a few seconds.&nbsp;</p>
<p class="Element10">
The application is touch enabled. It features user touch input through the integrated touch screen on the display panel. Touch input from the touch controller goes through the I2C port, and the Input System Service acquires the touch input information from the Touch and the I2C Drivers. The Input System Service sends touch events to the Graphics Library, which processes these events and updates the frame data accordingly.&nbsp;</p>
<p class="Element10">
In addition, the application uses the core timer clock ticks for some automatic image motion control.</p><div class="Element15">
Demonstration Features</div>

<ul class="Element630">
<li class="Element600">32bit true-color with alpha-channel</li>
<li class="Element600">GPU Blit copy, shrink, stretch</li>
<li class="Element600">Three GLCD layers</li>
<li class="Element600">2716x1810 high-resolution image</li>
<li class="Element600">External memory DDR2</li>
<li class="Element600">Graphics User controls</li>
<li class="Element600">Simple real-time motion</li>
</ul><div class="Element15">
Tools Setup</div>

<ul class="Element630">
<li class="Element600">Enable Graphics Stack</li>
<li class="Element600">Enable Graphics Controller
<ul class="Element631">
<li class="Element601">GLCD</li>
<li class="Element601">Enable all 2 layers</li>
</ul></li>
<li class="Element600">Enable Graphics Processor
<ul class="Element631">
<li class="Element601">Use Nano2D</li>
</ul></li>
</ul><p class="Element10">
&nbsp;</p>
<div class="Element15">
Creating the Project Graph</div>
<p class="Element10" style="text-align: center;">
<img src="aria_iv_mzda_sk_meb2_tm4301b_pg.png" border="0" alt="" title=""></p><p class="Element10">
The Project Graph diagram shows the Harmony components that are included in this application. Lines between components are drawn to satisfy components that depend on a capability that another component provides.&nbsp;</p>
<p class="Element10">
&nbsp;</p><div class="Element15">
Building the Application</div>
<p class="Element10">
The parent directory for this application is gfx_apps/apps/aria_image_viewer. To build this application, use MPLABX to open the gfx_apps/apps/aria_image_viewer/firmware/aria_iv_mzda_sk_meb2_tm4301b.X project file.&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
The following table lists configuration properties: </p><div class="Element63">
<div class="TableDiv">
<table cellspacing="0" class="Table2">
<tr>
<td class="Element65" valign="top" width="18%">
<div class="Element66">
Project Name&nbsp;</div></td><td class="Element65" valign="top" width="13%">
<div class="Element66">
BSP Used&nbsp;</div></td><td class="Element65" valign="top" width="26%">
<div class="Element66">
Graphics Template Used&nbsp;</div></td><td class="Element65" valign="top" width="43%">
<div class="Element66">
Description&nbsp;</div></td></tr><tr>
<td class="Element67" valign="top" width="18%">
<div class="Element68">
aria_iv_mzda_sk_meb2_tm4301b.X&nbsp;</div></td><td class="Element67" valign="top" width="13%">
<div class="Element68">
PIC32MZ DA Starter Kit&nbsp;</div></td><td class="Element67" valign="top" width="26%">
<div class="Element68">
Aria Graphics w/ PDA TM4301b Display&nbsp;</div></td><td class="Element67" valign="top" width="43%">
<div class="Element68">
Aria Graphics on PIC32MZ DA with Internal DDR Starter Kit, MEBII and PDA TM4301b Display&nbsp;</div></td></tr></table></div></div>
<p class="Element10">
&nbsp;</p>
<div class="Element63">
<div class="TableDiv">
<table cellspacing="0" class="Table0">
<tr>
<td class="Element67" valign="top" width="10%" style="border:none;">
<div class="Element68">
<img src="Note Icon.png" border="0" alt="" title=""> <strong>Note:</strong>&nbsp;</div></td><td class="Element67" valign="top" width="90%" style="border:none;">
<div class="Element68">
This application may contain custom code that is marked by the comments &quot;// START OF CUSTOM CODE ...&quot; and &quot;// END OF CUSTOM CODE&quot;. When using the MPLAB Harmony Configurator to regenerate the application code, use the &quot;Prompt Merge For All Differences&quot; merging strategy and do not remove or replace the custom code.&nbsp;</div></td></tr></table></div></div>
<p class="Element10">
&nbsp;</p>
<div class="Element15">
Configuring the Hardware</div>
<p class="Element10">
On the MEB II, the EBIOE and LCD_PCLK (J9) must be jumpered. A connection establishes the GLCD's pixel clock output timing. The external SRAM memory on the board is disabled. The J9 jumper is located on the bottom of the MEB II board, beneath where the starter kit is plugged into the board. Refer to the following figure for the exact location.&nbsp;</p>
<p class="Element10">
&nbsp;</p><p class="Element10" style="text-align: center;">
<img src="mzda_sk_intddr_wqvga_hardware.png" border="0" alt="" title="">&nbsp;</p><p class="Element10">
&nbsp;</p>
<p class="Element10">
Connect the PIC32MZ DA Starter Kit to the MEB II board&nbsp;</p>
<p class="Element10">
&nbsp;</p><p class="Element10" style="text-align: center;">
<img src="mzda_sk_intddr_wqvga_hardware2.png" border="0" alt="" title="">&nbsp;</p><p class="Element10">
&nbsp;</p>
<div class="Element15">
Running the Demonstration</div>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
The aria_image_viewer demonstration has two UI screens. The first, SplashScreen, is displayed upon boot-up. It has no user controls, but displays a generic method that can be used to display logo content during initialization. The second UI screen is the ImageScreen. After the SplashScreen is displayed, the application automatically transitions to the ImageScreen and displays the touch gesture areas. During the touch gesture display, the image is loaded, then the screen will fade away showing a 2716x1810 high-resolution bridge image, that is reduced to the native display screen size of the MEBII. At this point, the pinch-zoom and swipe gestures are available for use. </p><p class="Element10" style="text-align: center;">
<strong>Initial Image</strong>&nbsp;</p>
<p class="Element10" style="text-align: center;">
<img src="aria_iv_mzda_sk_meb2_tm4301b_img1.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
<strong>Initial Image at 90 Degree Orientation</strong>&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
<strong>Initial Image at Zoom-In Using Two-Finger Zoom and Pan</strong>&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
<strong>Help Overlay</strong>&nbsp;</p>
<p class="Element10" style="text-align: center;">
<img src="APPS GFX aria_image_viewer help overlay.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
<strong>The following images are the remaining three of the four images that can be used for gesture actions.</strong>&nbsp;</p>
<p class="Element10" style="text-align: center;">
<img src="aria_iv_mzda_sk_meb2_tm4301b_img2.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
<img src="aria_iv_mzda_sk_meb2_tm4301b_img3.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p><div class="Element63">
<div class="TableDiv">
<table cellspacing="0" class="Table2">
<tr>
<td class="Element65" valign="top" width="21%">
<div class="Element66">
Name of Motion&nbsp;</div></td><td class="Element65" valign="top" width="79%">
<div class="Element66">
Description of Function&nbsp;</div></td></tr><tr>
<td class="Element67" valign="top" width="21%">
<div class="Element68">
<img src="APPS GFX aria_image_viewer pinching image.png" border="0" alt="" title="">&nbsp;</div></td><td class="Element67" valign="top" width="79%">
<div class="Element68">
Enables the user to perform zoom-in on the center aspect. User can then pan the image and perform additional zoom or pinch gestures. Each movement exercises 2-D GPU Blit using smaller or larger rectangles clipping of the image source placed on to the native LCD display.&nbsp;</div></td></tr><tr>
<td class="Element67" valign="top" width="21%">
<div class="Element68">
<img src="APPS GFX aria_image_viewer swiping image.png" border="0" alt="" title="">&nbsp;</div></td><td class="Element67" valign="top" width="79%">
<div class="Element68">
Enables the user to swipe to the next image. The current image will dim using a A8 alpha buffer. The next image will be displayed at zoom level 0. Each movement is tested on speed of swipe over a distance.&nbsp;</div></td></tr><tr>
<td class="Element67" valign="top" width="21%">
<div class="Element68">
<img src="APPS GFX aria_image_viewer pan zoom image.png" border="0" alt="" title="">&nbsp;</div></td><td class="Element67" valign="top" width="79%">
<div class="Element68">
Enables the user to move the image in any direction limited by the image extents. Pan requires the zoom-in operation to be greater than 0%. Each movement exercises 2-D GPU Blit operation.&nbsp;</div></td></tr><tr>
<td class="Element67" valign="top" width="21%">
<div class="Element68">
<img src="APPS GFX aria_image_viewer set orientation image.png" border="0" alt="" title="">&nbsp;</div></td><td class="Element67" valign="top" width="79%">
<div class="Element68">
Enables the user to set the orientation to an orthogonal value of 0, 90, 180, or 270 degrees. Each movement exercises 2-D GPU buffer orientation operation.&nbsp;</div></td></tr><tr>
<td class="Element67" valign="top" width="21%">
<div class="Element68">
Help Area (top of display)&nbsp;</div></td><td class="Element67" valign="top" width="79%">
<div class="Element68">
Enables the user to activate the help overlay. Displays the supported touch gestures.&nbsp;</div></td></tr><tr>
<td class="Element67" valign="top" width="21%">
<div class="Element68">
Image Stretch Text (lower left)&nbsp;</div></td><td class="Element67" valign="top" width="79%">
<div class="Element68">
Name of demonstration&nbsp;</div></td></tr></table></div></div>
</div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="00462.html" target="topic">MPLAB® Harmony Graphics Suite</a> &gt; <a href="00728.html" target="topic">Examples and Demonstrations</a> &gt; <a href="00727.html" target="topic">Aria Applications</a> &gt; <a href="00013.html" target="topic">aria_image_viewer</a> &gt; <a href="00064.html" target="topic">aria_iv_mzda_sk_meb2_tm4301b.X</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element3">
MPLAB® Harmony Graphics Suite</div>
</td><td width="25%">
<div class="Element4">
<a href="contents.html" target="tocidx">Contents</a> | <a href="00462.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element91">
<a href="00016.html" target="topic">Previous</a> | <a href="00013.html" target="topic">Up</a> | <a href="00012.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: aria_iv_mzda_sk_meb2_tm4301b.X Topic Title: aria_iv_mzda_sk_meb2_tm4301b.X)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>